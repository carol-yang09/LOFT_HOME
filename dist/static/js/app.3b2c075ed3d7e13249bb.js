webpackJsonp([1],{"6f6b":function(t,e,a){t.exports=a.p+"static/img/hotel_2.60ab2f8.jpg"},BpKH:function(t,e){},"Gi+K":function(t,e){},HSj3:function(t,e){},IBUC:function(t,e){},JIzI:function(t,e){},LYG2:function(t,e,a){t.exports=a.p+"static/img/hotel_3.d052ad6.jpg"},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),o=a("7+uW"),i=a("NYxO"),r=a("mtWM"),c=a.n(r),l=a("Rf8U"),d=a.n(l),u=a("sUu7"),m=a("wGWZ"),f=a("SjS3"),h=a.n(f),v=a("7QTg"),_=a.n(v),p=(a("BpKH"),a("ZZvs")),g=a.n(p),k=(a("SYh3"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var b=a("VU/8")({name:"App"},k,!1,function(t){a("bVL6")},null,null).exports,C=a("/ocq"),O={name:"Alert",data:function(){return{}},methods:n()({},Object(i.b)("alertModules",["closeAlert","openAlert"])),computed:n()({},Object(i.c)("alertModules",["alert"]))},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert",class:{active:t.alert.isShow}},[a("div",{staticClass:"alert_wrap"},[a("h2",[a("span",{staticClass:"alert_icon",class:{"text-danger":"danger"==t.alert.status,"text-success":"success"==t.alert.status}},["success"==t.alert.status?a("i",{staticClass:"far fa-check-circle"}):t._e(),t._v(" "),"danger"==t.alert.status?a("i",{staticClass:"far fa-times-circle"}):t._e()]),t._v("\n      "+t._s(t.alert.title)+"\n    ")]),t._v(" "),a("p",[t._v(t._s(t.alert.content))]),t._v(" "),a("button",{staticClass:"btn btn-m btn-dark",on:{click:function(e){return e.preventDefault(),t.closeAlert(t.alert.to)}}},[t._v("OK !")])])])},staticRenderFns:[]};var M=a("VU/8")(O,y,!1,function(t){a("HSj3")},"data-v-74a77829",null).exports,w={name:"Message",data:function(){return{}},methods:n()({updateMessage:function(t,e){this.$store.dispatch("messageModules/updateMessage",{message:t,status:e})},removeMessage:function(t){this.$store.dispatch("messageModules/removeMessage",t)}},Object(i.b)("messageModules",["removeMessageWithTiming"])),computed:n()({},Object(i.c)("messageModules",["messages"]))},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[a("ul",t._l(t.messages,function(e,s){return a("li",{key:"message-"+s,staticClass:"message_item",class:e.status},[a("div",["danger"==e.status?a("span",[a("i",{staticClass:"fas fa-exclamation-triangle"})]):t._e(),t._v(" "),"success"==e.status?a("span",[a("i",{staticClass:"fas fa-check-circle"})]):t._e(),t._v("\n        "+t._s(e.message)+"\n     ")]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removeMessage(s)}}},[t._v("×")])])}),0)])},staticRenderFns:[]};var E=a("VU/8")(w,I,!1,function(t){a("IBUC")},"data-v-418615b0",null).exports,D={data:function(){return{isMenuOpen:!1}},computed:n()({},Object(i.c)(["isLoading"])),components:{Alert:M,Message:E},created:function(){this.isMenuOpen=!1}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading,"is-full-page":!0,"z-index":999,"background-color":"#000"},on:{"update:active":function(e){t.isLoading=e}}},[a("template",{slot:"before"},[a("span",{staticClass:"loading"},[t._v("LOFT")])]),t._v(" "),a("template",{slot:"default"},[a("span",{staticClass:"loading"},[a("i",{staticClass:"fas fa-bahai fa-spin"})])]),t._v(" "),a("template",{slot:"after"},[a("span",{staticClass:"loading"},[t._v("HOME")])])],2),t._v(" "),a("div",{staticClass:"navbar-wrap"},[a("nav",{staticClass:"container navbar"},[a("router-link",{staticClass:"logo",attrs:{to:"/",href:"#"}},[t._v("LOFT HOME")]),t._v(" "),a("ul",{staticClass:"nav",class:{active:t.isMenuOpen}},[a("li",{on:{click:function(e){e.preventDefault(),t.isMenuOpen=!1}}},[a("router-link",{staticClass:"nav_link",attrs:{to:"/about"}},[t._v("ABOUT US")])],1),t._v(" "),a("li",{on:{click:function(e){e.preventDefault(),t.isMenuOpen=!1}}},[a("router-link",{staticClass:"nav_link",attrs:{to:"/rooms"}},[t._v("ROOMS")])],1),t._v(" "),a("li",{on:{click:function(e){e.preventDefault(),t.isMenuOpen=!1}}},[a("router-link",{staticClass:"nav_link",attrs:{to:"/contact"}},[t._v("CONTACT")])],1),t._v(" "),a("li",[a("router-link",{staticClass:"btn btn-l btn-outline-primary nav_btn",attrs:{to:"/rooms"}},[t._v("\n            BOOK NOW\n          ")])],1)]),t._v(" "),a("div",[a("a",{staticClass:"nav_ham",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isMenuOpen=!t.isMenuOpen}}},[a("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})])])],1)]),t._v(" "),a("div",{staticClass:"content"},[a("router-view")],1),t._v(" "),a("div",{staticClass:"footer"},[a("ul",{staticClass:"container"},[a("li",{staticClass:"footer_info"},[a("router-link",{staticClass:"logo",attrs:{to:"/",href:"#"}},[t._v("LOFT HOME")]),t._v(" "),t._m(0)],1),t._v(" "),t._m(1)])]),t._v(" "),a("Alert"),t._v(" "),a("Message")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"footer-info"},[e("li",[this._v("台北市中山區長春路777號3樓")]),this._v(" "),e("li",[this._v("Mail: lofthome@mail.com")]),this._v(" "),e("li",[this._v("Tel: +886 2 2777-77772")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"footer_info"},[e("ul",{staticClass:"social-media"},[e("li",[e("a",{attrs:{href:"#"}},[e("span",{staticClass:"fa-stack",staticStyle:{"vertical-align":"top"}},[e("i",{staticClass:"far fa-circle fa-stack-2x"}),this._v(" "),e("i",{staticClass:"fab fa-facebook-f fa-stack-1x"})])])]),this._v(" "),e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fab fa-instagram fa-2x"})])]),this._v(" "),e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fab fa-tripadvisor fa-2x"})])])]),this._v(" "),e("span",{staticClass:"copyright"},[this._v("Copyright © 2020 LOFT HOME")])])}]};var S=a("VU/8")(D,x,!1,function(t){a("oOvP")},"data-v-4430ed39",null).exports,A=a("IC97"),N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"counter"},[a("a",{staticClass:"addNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addNum()}}},[a("i",{staticClass:"fas fa-plus"})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.myNumber,expression:"myNumber"}],staticClass:"counter_input",class:{hasName:t.counterName},attrs:{type:"number",min:"0",max:"10",readonly:"readonly"},domProps:{value:t.myNumber},on:{input:function(e){e.target.composing||(t.myNumber=e.target.value)}}}),t._v(" "),a("span",{staticClass:"counter_name"},[t._v(t._s(t.counterName))]),t._v(" "),a("a",{staticClass:"lessNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.lessNum()}}},[a("i",{staticClass:"fas fa-minus"})])])},staticRenderFns:[]};var R=a("VU/8")({name:"Counter",props:["counterName","number"],data:function(){return{myNumber:this.number}},methods:{addNum:function(){this.myNumber+=1},lessNum:function(){this.myNumber>0?this.myNumber-=1:this.myNumber=0}},watch:{number:function(t){this.myNumber=t},myNumber:function(t){this.$emit("number",t)}}},N,!1,function(t){a("Gi+K")},null,null).exports,$=a("7t+N"),L=a.n($),B={data:function(){return{checkIn:"",checkOut:"",kids:0,adults:0,swiperOption:{slidesPerView:1,spaceBetween:0,loop:!0,speed:2500,autoplay:{delay:4e3,stopOnLastSlide:!1,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next"}}}},methods:{countKids:function(t){this.kids=t},countAdults:function(t){this.adults=t},getRooms:function(){this.$store.dispatch("roomsModules/getRooms",{form:"home"})},updateDisabledEnd:function(t){this.$store.dispatch("calendarModules/updateDisabledEnd",t)},searchRouter:function(){var t=this;if(Number(t.adults)+Number(t.kids)>0&&t.checkIn&&t.checkOut)t.$router.push({path:"/rooms",query:{checkIn:t.checkIn.getTime(),checkOut:t.checkOut.getTime(),adults:t.adults,kids:t.kids}});else{this.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"錯誤!",content:"請輸入完整資訊，謝謝您！",to:"",status:"danger"})}},scroll:function(){L()("html, body").animate({scrollTop:L()(".banner").height()},1e3)}},computed:n()({},Object(i.c)("roomsModules",["rooms"]),Object(i.c)("calendarModules",["disabledStart","disabledEnd"])),watch:{checkIn:function(t,e){t!==e&&this.updateDisabledEnd(t),new Date(t)>new Date(this.checkOut)&&(this.checkOut="")}},components:{Datepicker:A.a,Counter:R},created:function(){this.getRooms()}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"banner"},[t.rooms.length?a("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.rooms,function(t){return a("swiper-slide",{key:t.id},[a("div",{staticClass:"banner_img",style:{backgroundImage:"url("+t.imageUrl+")"}})])}),t._v(" "),a("div",{staticClass:"swiper-button-next swiper-button-custom",attrs:{slot:"button-next"},slot:"button-next"})],2):t._e(),t._v(" "),a("div",{staticClass:"toolbar_wrap"},[a("div",{staticClass:"toolbar-vertical"},[a("form",{staticClass:"container toolbar_form",attrs:{action:""}},[a("div",[a("label",{attrs:{for:"checkin"}},[t._v("CheckIn")]),t._v(" "),a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckIn","disabled-dates":t.disabledStart,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0},model:{value:t.checkIn,callback:function(e){t.checkIn=e},expression:"checkIn"}}),t._v(" "),t._m(0)],1)]),t._v(" "),a("div",[a("label",{attrs:{for:"checkout"}},[t._v("CheckOut")]),t._v(" "),a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckOut","disabled-dates":t.disabledEnd,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0},model:{value:t.checkOut,callback:function(e){t.checkOut=e},expression:"checkOut"}}),t._v(" "),t._m(1)],1)]),t._v(" "),a("div",{staticClass:"toolbar_counter"},[a("div",[a("label",{attrs:{for:"adults"}},[t._v("Adults")]),t._v(" "),a("Counter",{attrs:{number:t.adults},on:{number:t.countAdults}})],1),t._v(" "),a("div",[a("label",{attrs:{for:"kids"}},[t._v("Kids")]),t._v(" "),a("Counter",{attrs:{number:t.kids},on:{number:t.countKids}})],1)]),t._v(" "),a("a",{staticClass:"btn btn-l btn-outline-dark toolbar_btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.searchRouter()}}},[t._v("Search")])])])]),t._v(" "),a("div",{staticClass:"scroll-btn"},[a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.scroll()}}},[t._v("\n        Scroll"),t._m(2)])])],1),t._v(" "),a("div",{staticClass:"container home"},[a("div",{staticClass:"room_type"},[a("h3",[t._v("Room Type")]),t._v(" "),a("div",{staticClass:"row"},t._l(t.rooms,function(e){return a("router-link",{key:e.id,staticClass:"col-4",attrs:{href:"#",to:"rooms/"+e.id}},[a("div",{staticClass:"effect"},[a("div",{staticClass:"effect_img",style:{"background-image":"url("+e.imageUrl+")"}}),t._v(" "),a("div",{staticClass:"effect_rect"},[a("p",{staticClass:"effect_rect_text"},[t._v(t._s(e.name))])])])])}),1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"calendar_icon"},[e("i",{staticClass:"far fa-calendar-alt"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"calendar_icon"},[e("i",{staticClass:"far fa-calendar-alt"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-chevron-down"})])}]};var G=a("VU/8")(B,T,!1,function(t){a("hDYz")},"data-v-2a36aaca",null).exports,q={data:function(){return{isCarouselShow:!1,swiperOption:{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{el:".swiper-pagination-custom",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},methods:{toggleCarousel:function(){this.isCarouselShow?(this.isCarouselShow=!1,L()("body").css("overflow","auto")):(this.isCarouselShow=!0,L()("body").css("overflow","hidden")),L()(".carousel").fadeToggle()}}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container about"},[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("div",{staticClass:"effect",on:{click:function(e){return e.preventDefault(),t.toggleCarousel()}}},[s("div",{staticClass:"effect_img effect_img-1"}),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"col-4"},[s("div",{staticClass:"effect",on:{click:function(e){return e.preventDefault(),t.toggleCarousel()}}},[s("div",{staticClass:"effect_img effect_img-2"}),t._v(" "),t._m(2)])]),t._v(" "),s("div",{staticClass:"col-4"},[s("div",{staticClass:"effect",on:{click:function(e){return e.preventDefault(),t.toggleCarousel()}}},[s("div",{staticClass:"effect_img effect_img-3"}),t._v(" "),t._m(3)])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isCarouselShow,expression:"isCarouselShow"}],staticClass:"carousel"},[s("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[s("swiper-slide",[s("img",{attrs:{src:a("qiYg")}})]),t._v(" "),s("swiper-slide",[s("img",{attrs:{src:a("6f6b")}})]),t._v(" "),s("swiper-slide",[s("img",{attrs:{src:a("LYG2")}})]),t._v(" "),s("div",{staticClass:"swiper-pagination swiper-pagination-custom",attrs:{slot:"pagination"},slot:"pagination"}),t._v(" "),s("div",{staticClass:"swiper-button-prev swiper-button-custom",attrs:{slot:"button-prev"},slot:"button-prev"}),t._v(" "),s("div",{staticClass:"swiper-button-next swiper-button-custom",attrs:{slot:"button-next"},slot:"button-next"})],1),t._v(" "),s("a",{staticClass:"carousel_toggle-icon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleCarousel()}}},[s("i",{staticClass:"fas fa-times-circle"})])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"about_intro"},[e("li",{staticClass:"intro_img"}),this._v(" "),e("ul",{staticClass:"intro_info"},[e("li",{staticClass:"intro_info_title"},[this._v("LOFT HOME")]),this._v(" "),e("li",[this._v("\n        LOFT HOME 位於台北市區，我們以「舒適、溫馨、放鬆」為核心，希望能在擾攘喧囂的都市叢林中，\n        打造一個身心靈放鬆的休憩處，不論何處的旅人都可以暫停腳步，享受當下的簡單寧靜的幸福。\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"effect_rect"},[e("p",{staticClass:"effect_rect_text"},[this._v("交誼廳")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"effect_rect"},[e("p",{staticClass:"effect_rect_text"},[this._v("餐廳")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"effect_rect"},[e("p",{staticClass:"effect_rect_text"},[this._v("室外泳池")])])}]};var P=a("VU/8")(q,H,!1,function(t){a("V9Ch")},"data-v-9dc0b6f4",null).exports,U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container row contact"},[a("div",{staticClass:"col-6 contact_img"}),t._v(" "),a("ValidationObserver",{ref:"form",staticClass:"col-6 contact_form",attrs:{action:"",tag:"form"}},[a("h2",[t._v("Contact")]),t._v(" "),a("validation-provider",{staticClass:"form-group",attrs:{rules:"required",name:"姓名",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"name"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message.name,expression:"message.name"}],attrs:{type:"text",id:"name",placeholder:"請輸入姓名"},domProps:{value:t.message.name},on:{input:function(e){e.target.composing||t.$set(t.message,"name",e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("validation-provider",{staticClass:"form-group",attrs:{rules:"email|required",name:"電子郵件",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"email"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("電子郵件")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message.email,expression:"message.email"}],attrs:{type:"text",id:"email",placeholder:"請輸入電子郵件"},domProps:{value:t.message.email},on:{input:function(e){e.target.composing||t.$set(t.message,"email",e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("validation-provider",{staticClass:"form-group",attrs:{rules:"phone|required",name:"聯絡電話(手機)",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"tel"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("聯絡電話(手機)")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message.tel,expression:"message.tel"}],attrs:{type:"number",id:"tel",placeholder:"請輸入聯絡電話(手機)"},domProps:{value:t.message.tel},on:{input:function(e){e.target.composing||t.$set(t.message,"tel",e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("validation-provider",{staticClass:"form-group",attrs:{rules:"required",name:"詢問主題",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"title"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("詢問主題")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message.title,expression:"message.title"}],attrs:{type:"text",id:"title",placeholder:"請輸入詢問主題"},domProps:{value:t.message.title},on:{input:function(e){e.target.composing||t.$set(t.message,"title",e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("validation-provider",{staticClass:"form-group",attrs:{rules:"required",name:"留言",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"content"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("留言")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message.content,expression:"message.content"}],attrs:{name:"content",id:"content",rows:"10",placeholder:"請輸入留言"},domProps:{value:t.message.content},on:{input:function(e){e.target.composing||t.$set(t.message,"content",e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("button",{staticClass:"btn btn-l btn-primary rounded",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.leaveMessage()}}},[t._v("\n      送出\n    ")])],1)],1)},staticRenderFns:[]};var V=a("VU/8")({data:function(){return{message:{name:"",email:"",tel:"",title:"",content:""}}},methods:{leaveMessage:function(){var t=this;this.$refs.form.validate().then(function(e){e&&t.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"傳送成功!",content:"您的訊息我們已收到，謝謝您的回饋！",to:"/",status:"success"})})}}},U,!1,function(t){a("rCCs")},"data-v-14a36db4",null).exports,j=a("oqQY"),F=a.n(j);F()().format();var Y={data:function(){return{checkIn:"",checkOut:"",kids:0,adults:0,amenities:{"Child-Friendly":"fas fa-baby","Pet-Friendly":"fas fa-paw","Room-Service":"fas fa-concierge-bell","Smoke-Free":"fas fa-smoking",Breakfast:"fas fa-utensils","Air-Conditioner":"fas fa-wind","Mini-Bar":"fas fa-glass-martini-alt",Refrigerator:"fas fa-ice-cream",Sofa:"fas fa-couch",Television:"fas fa-tv","Wi-Fi":"fas fa-wifi","Great-View":"fas fa-mountain"}}},methods:n()({countKids:function(t){this.kids=t},countAdults:function(t){this.adults=t},getRooms:function(){var t=this;if(t.$route.query.checkIn){var e={checkIn:new Date(Number(t.$route.query.checkIn)),checkOut:new Date(Number(t.$route.query.checkOut)),sumNum:Number(t.$route.query.adults)+Number(t.$route.query.kids)};this.$store.dispatch("roomsModules/getRooms",{form:"rooms",search:e})}else this.$store.dispatch("roomsModules/getRooms",{form:"rooms"})},updateDisabledEnd:function(t){this.$store.dispatch("calendarModules/updateDisabledEnd",t)},bookRoom:function(t){this.$router.push({path:"/checkorder",query:{roomId:t,checkIn:"",checkOut:""}})},searchRoom:function(){var t=this,e=Number(t.adults)+Number(t.kids);if(e>0&&t.checkIn&&t.checkOut){var a={checkIn:t.checkIn,checkOut:t.checkOut,sumNum:e,roomsBooked:t.roomsBooked};t.$route.query.checkIn?(t.$router.push("/rooms"),this.$store.dispatch("roomsModules/getRooms",{form:"rooms",search:a})):this.$store.dispatch("searchModules/updateUnavailableRoom",a)}else{t.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"錯誤!",content:"請輸入完整資訊，謝謝您！",to:"",status:"danger"})}t.resetInput()},resetInput:function(){this.checkIn="",this.checkOut="",this.kids=0,this.adults=0}},Object(i.b)("searchModules",["resetSearch"])),computed:n()({filterRooms:function(){var t=this;return t.roomsDetil.filter(function(e){return-1===t.unavailableRoom.indexOf(e.id)})}},Object(i.c)("roomsModules",["roomsDetil","roomsBooked"]),Object(i.c)("calendarModules",["disabledStart","disabledEnd"]),Object(i.c)("searchModules",["selectDateArray","unavailableRoom","searchInfo"])),watch:{checkIn:function(t,e){t!==e&&this.updateDisabledEnd(t),new Date(t)>new Date(this.checkOut)&&(this.checkOut="")}},components:{Datepicker:A.a,Counter:R},created:function(){this.getRooms()}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"toolbar"},[a("form",{staticClass:"container toolbar_form",attrs:{action:""}},[a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckIn","disabled-dates":t.disabledStart,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0},model:{value:t.checkIn,callback:function(e){t.checkIn=e},expression:"checkIn"}}),t._v(" "),t._m(0)],1),t._v(" "),a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckOut","disabled-dates":t.disabledEnd,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0},model:{value:t.checkOut,callback:function(e){t.checkOut=e},expression:"checkOut"}}),t._v(" "),t._m(1)],1),t._v(" "),a("Counter",{attrs:{"counter-name":"Adults",number:t.adults},on:{number:t.countAdults}}),t._v(" "),a("Counter",{attrs:{"counter-name":"Kids",number:t.kids},on:{number:t.countKids}}),t._v(" "),a("a",{staticClass:"btn btn-m btn-dark toolbar_btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.searchRoom()}}},[t._v("Search")])],1)]),t._v(" "),a("div",{staticClass:"container rooms"},[t.searchInfo.isShow?a("ul",{staticClass:"search-info"},[a("li",[t._v("\n        搜尋結果：\n        "+t._s(t.searchInfo.checkIn)+" ~ "+t._s(t.searchInfo.checkOut)+" | "+t._s(t.searchInfo.sumNum)+" 人\n      ")]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.resetSearch()}}},[t._v("×")])])]):t._e(),t._v(" "),a("div",t._l(t.filterRooms,function(e){return a("div",{key:e.id,staticClass:"card"},[a("router-link",{staticClass:"effect",attrs:{to:"rooms/"+e.id}},[a("div",{staticClass:"effect_img",style:{"background-image":"url("+e.imageUrl[0]+")"}}),t._v(" "),a("div",{staticClass:"effect_rect"},[a("p",{staticClass:"effect_rect_text"},[t._v(t._s(e.name))])])]),t._v(" "),a("div",{staticClass:"card_body"},[a("h5",{staticClass:"card_title"},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),a("ul",{staticClass:"card_info"},[a("li",[t._v("\n              | 人數："+t._s(e.descriptionShort.GuestMin)+"\n               至 "+t._s(e.descriptionShort.GuestMax)+" 人\n            ")]),t._v(" "),a("li",[t._v("| 坪數："+t._s(e.descriptionShort.Footage)+"平方公尺")]),t._v(" "),a("li",[t._v("| 床型："+t._s(e.descriptionShort.Bed[0]))]),t._v(" "),e.amenities.Breakfast?a("li",[t._v("| 餐點：附早餐")]):a("li",[t._v("| 餐點：無")])]),t._v(" "),a("ul",{staticClass:"row card_facilities"},[t._l(e.amenities,function(s,n){return[e.amenities[n]?a("li",{key:n},[a("i",{class:t.amenities[n]})]):t._e()]})],2)]),t._v(" "),a("div",{staticClass:"card_footer"},[a("ul",[a("li",{staticClass:"card_price"},[t._v("平日每晚："),a("span",[t._v(t._s(t._f("currency")(e.holidayPrice)))])]),t._v(" "),a("li",{staticClass:"card_price"},[t._v("假日每晚："),a("span",[t._v(t._s(t._f("currency")(e.normalDayPrice)))])])]),t._v(" "),a("div",[a("router-link",{staticClass:"btn btn-m btn-outline-dark rounded",attrs:{to:"rooms/"+e.id}},[t._v("\n              MORE +\n            ")]),t._v(" "),a("a",{staticClass:"btn btn-m btn-dark rounded",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.bookRoom(e.id)}}},[t._v("\n              BOOK NOW\n            ")])],1)])],1)}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"calendar_icon"},[e("i",{staticClass:"far fa-calendar-alt"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"calendar_icon"},[e("i",{staticClass:"far fa-calendar-alt"})])}]};var z=a("VU/8")(Y,K,!1,function(t){a("JIzI")},"data-v-34af1041",null).exports;F()().format();var W={data:function(){return{roomId:"",checkIn:"",checkOut:"",name:"",phone:"",holidays:0,weekdays:0}},methods:{getRoomItem:function(t){this.$store.dispatch("roomsModules/getRoomItem",t)},updateDisabledEnd:function(t){this.$store.dispatch("calendarModules/updateDisabledEnd",t)},calHolidaysandWeekdays:function(){var t=this;t.holidays=0,t.weekdays=0,t.checkIn&&t.checkOut&&(this.$store.dispatch("searchModules/updateSelectDateArray",{checkIn:t.checkIn,checkOut:t.checkOut}),t.selectDateArray.forEach(function(e){0===new Date(e).getDay()||6===new Date(e).getDay()?t.holidays+=1:t.weekdays+=1}))},booking:function(){var t=this,e=this;if(e.checkIn&&e.checkOut)e.$refs.form.validate().then(function(a){if(a){var s="https://challenge.thef2e.com/api/thef2e2019/stage6/room/"+e.roomId,n={name:e.name,tel:e.phone,date:e.selectDateArray};e.$store.dispatch("updateLoading",!0),e.$http.post(s,n,{headers:{Authorization:"Bearer uERM7X0iUKzkosCVJ0XEHaGvqOW0ZPXtzHNPLaEGNu2Zqpv5l3bZcdxu8Y4g",accept:"application/json"}}).then(function(){t.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"預定成功!",content:"您的預訂已完成，詳細訂房資訊已發送簡訊至您的手機，謝謝您！",to:"/",status:"success"}),e.$store.dispatch("updateLoading",!1)}).catch(function(){t.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"預定失敗!",content:"您的預訂失敗，請再重新預定，謝謝您！",to:"/rooms",status:"danger"}),e.$store.dispatch("updateLoading",!1)})}});else{this.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"錯誤!",content:"請輸入完整資訊，謝謝您！",to:"",status:"danger"})}}},computed:n()({},Object(i.c)("roomsModules",["room","roomItemBooked"]),Object(i.c)("calendarModules",["disabledStart","disabledEnd","highlighted"]),Object(i.c)("searchModules",["selectDateArray"])),watch:{checkIn:function(t,e){t!==e&&this.updateDisabledEnd(t),new Date(t)>new Date(this.checkOut)?(this.checkOut="",this.holidays=0,this.weekdays=0,L()(".calendar_err").css("display","block")):this.calHolidaysandWeekdays()},checkOut:function(){this.checkOut&&(this.calHolidaysandWeekdays(),L()(".calendar_err").css("display","none"))}},components:{Datepicker:A.a},created:function(){var t=this;t.$route.query.checkIn&&(t.checkIn=new Date(Number(t.$route.query.checkIn)),t.checkOut=new Date(Number(t.$route.query.checkOut))),t.roomId=t.$route.query.roomId,t.getRoomItem(t.roomId)}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container row checkorder"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h2",[t._v("Almost done!")]),t._v(" "),a("p",[t._v("您將預訂的房型為\n        "),a("span",{staticClass:"checkorder_subtitle"},[t._v(t._s(t.room.name))])]),t._v(" "),a("p",[t._v("請填寫以下資料，即可完成訂房。")]),t._v(" "),a("ValidationObserver",{ref:"form",staticClass:"row checkorder_form",attrs:{action:"",tag:"form"}},[a("validation-provider",{staticClass:"col-6 form-group",attrs:{rules:"required",name:"姓名",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"name"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("真實姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"rounded",attrs:{type:"text",placeholder:"ex: 王小明"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("validation-provider",{staticClass:"col-6 form-group",attrs:{rules:"phone|required",name:"電話",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"phone"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("手機號碼")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"rounded",attrs:{type:"number",placeholder:"ex: 0955xxxxxx"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])}),t._v(" "),a("div",{staticClass:"col-6 form-group"},[a("label",{attrs:{for:"checkin"}},[a("span",{staticClass:"text-danger"},[t._v("*")]),t._v("Check In")]),t._v(" "),a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckIn","disabled-dates":t.disabledStart,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0,highlighted:t.highlighted},model:{value:t.checkIn,callback:function(e){t.checkIn=e},expression:"checkIn"}}),t._v(" "),a("span",{staticClass:"calendar_icon"},[a("i",{staticClass:"far fa-calendar-alt"})])],1)]),t._v(" "),a("div",{staticClass:"col-6 form-group"},[a("label",{attrs:{for:"checkout"}},[a("span",{staticClass:"star"},[t._v("*")]),t._v("Check Out")]),t._v(" "),a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckOut","disabled-dates":t.disabledEnd,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0,highlighted:t.highlighted},model:{value:t.checkOut,callback:function(e){t.checkOut=e},expression:"checkOut"}}),t._v(" "),a("span",{staticClass:"calendar_icon"},[a("i",{staticClass:"far fa-calendar-alt"})])],1),t._v(" "),a("span",{staticClass:"calendar_err"},[t._v("請輸入正確日期")])])],1)],1),t._v(" "),a("div",{staticClass:"col-6 checkorder_info"},[a("table",{staticClass:"info_table"},[a("tbody",[a("tr",[a("td",[t._v(t._s(t._f("currency")(t.room.normalDayPrice))+" x "+t._s(t.weekdays)+" night (Weekdays)")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.room.normalDayPrice*t.weekdays)))])]),t._v(" "),a("tr",[a("td",[t._v(t._s(t._f("currency")(t.room.holidayPrice))+" X "+t._s(t.holidays)+" night (Holidays)")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.room.holidayPrice*t.holidays)))])]),t._v(" "),t._m(0)]),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("Total")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n              "+t._s(t._f("currency")(t.room.holidayPrice*t.holidays+t.room.normalDayPrice*t.weekdays))+"\n            ")])])])]),t._v(" "),a("div",{staticClass:"info_btn"},[a("router-link",{staticClass:"btn btn-m btn-outline-dark",attrs:{to:"/rooms"}},[t._v("BACK <")]),t._v(" "),a("button",{staticClass:"btn btn-m btn-dark",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.booking()}}},[t._v("OK!")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Server Free")]),this._v(" "),e("td",{staticClass:"text-right"},[this._v("$ 0")])])}]};var X=a("VU/8")(W,Z,!1,function(t){a("S/Yb")},"data-v-e87de000",null).exports;F()().format();var J={data:function(){return{roomId:"",checkIn:"",checkOut:"",kids:0,adults:0,amenities:{public:{"Child-Friendly":"fas fa-baby","Pet-Friendly":"fas fa-paw","Room-Service":"fas fa-concierge-bell","Smoke-Free":"fas fa-smoking",Breakfast:"fas fa-utensils"},room:{"Air-Conditioner":"fas fa-wind","Mini-Bar":"fas fa-glass-martini-alt",Refrigerator:"fas fa-ice-cream",Sofa:"fas fa-couch",Television:"fas fa-tv","Wi-Fi":"fas fa-wifi","Great-View":"fas fa-mountain"}}}},methods:{countKids:function(t){this.kids=t},countAdults:function(t){this.adults=t},getRoomItem:function(t){this.$store.dispatch("roomsModules/getRoomItem",t)},updateDisabledEnd:function(t){this.$store.dispatch("calendarModules/updateDisabledEnd",t)},bookRoom:function(t,e){var a=this,s=Number(a.adults)+Number(a.kids);if(s<0||""===a.checkIn||""===a.checkOut){this.$store.dispatch("alertModules/openAlert",{isShow:!0,title:"錯誤!",content:"請輸入完整資訊，謝謝您！",to:"",status:"danger"})}else if(s>e.descriptionShort.GuestMax){var n={isShow:!0,title:"錯誤!",content:e.name+" 最多 "+e.descriptionShort.GuestMax+" 人 (包含大人+小孩)，請改訂別的房型，謝謝您！",to:"",status:"danger"};this.$store.dispatch("alertModules/openAlert",n),a.resetInput()}else a.$router.push({path:"/checkorder",query:{roomId:t,checkIn:a.checkIn.getTime(),checkOut:a.checkOut.getTime()}})},resetInput:function(){this.checkIn="",this.checkOut="",this.kids=0,this.adults=0}},computed:n()({imageActive:{get:function(){return this.$store.state.roomsModules.imageActive},set:function(t){return this.$store.commit("roomsModules/IMAGEACTIVE",t)}}},Object(i.c)("roomsModules",["room","roomItemBooked"]),Object(i.c)("calendarModules",["disabledStart","disabledEnd","highlighted"])),watch:{checkIn:function(t,e){t!==e&&this.updateDisabledEnd(t),new Date(t)>new Date(this.checkOut)&&(this.checkOut="")}},components:{Datepicker:A.a,Counter:R},created:function(){this.getRoomItem(this.$route.params.roomId)}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container room"},[a("div",{staticClass:"silder",style:{"background-image":"url("+t.imageActive+")"}},[a("h2",{staticClass:"silder_title"},[t._v(t._s(t.room.name))]),t._v(" "),a("ul",{staticClass:"silder_price"},[a("li",[t._v("平日每晚："),a("span",{},[t._v(t._s(t._f("currency")(t.room.normalDayPrice)))])]),t._v(" "),a("li",[t._v("假日每晚："),a("span",{},[t._v(t._s(t._f("currency")(t.room.holidayPrice)))])])])]),t._v(" "),a("ul",{staticClass:"silder-control"},t._l(t.room.imageUrl,function(e,s){return a("li",{key:s,staticClass:"silder-control_img",style:{"background-image":"url("+e+")"},on:{click:function(a){a.preventDefault(),t.imageActive=e}}})}),0),t._v(" "),a("div",{staticClass:"row room_intro"},[a("div",{staticClass:"col-6"},[a("h3",[t._v("房間設備")]),t._v(" "),a("ul",{staticClass:"room_facilities"},[t._l(t.room.amenities,function(e,s){return[t.room.amenities[s]&&t.amenities.room[s]?a("li",{key:"room-"+s},[a("i",{class:t.amenities.room[s]})]):t._e()]})],2)]),t._v(" "),a("div",{staticClass:"col-6"},[a("h3",[t._v("其他")]),t._v(" "),a("ul",{staticClass:"room_facilities"},[t._l(t.room.amenities,function(e,s){return[t.room.amenities[s]&&t.amenities.public[s]?a("li",{key:"room-"+s},[a("i",{class:t.amenities.public[s]})]):t._e()]})],2)])]),t._v(" "),a("div",{staticClass:"room_intro"},[a("h3",[t._v("簡介")]),t._v(" "),a("p",[t._v(t._s(t.room.description))])]),t._v(" "),a("div",{staticClass:"row room_info"},[a("ul",{staticClass:"col-4"},[t.room.descriptionShort?a("li",[t._v("\n          | 人數："+t._s(t.room.descriptionShort.GuestMin)+"\n          至 "+t._s(t.room.descriptionShort.GuestMax)+" 人\n        ")]):t._e(),t._v(" "),t.room.descriptionShort?a("li",[t._v("| 坪數："+t._s(t.room.descriptionShort.Footage)+"平方公尺")]):t._e()]),t._v(" "),a("ul",{staticClass:"col-4"},[t.room.descriptionShort?a("li",[t._v("| 床型："+t._s(t.room.descriptionShort.Bed[0]))]):t._e(),t._v(" "),t.room.descriptionShort?a("li",[t._v("\n          | 餐點：\n          "),t.room.amenities.Breakfast?a("span",[t._v("附早餐")]):a("span",[t._v("無")])]):t._e()]),t._v(" "),a("ul",{staticClass:"col-4"},[t.room.checkInAndOut?a("li",[t._v("| checkOut 時間："+t._s(t.room.checkInAndOut.checkOut))]):t._e(),t._v(" "),t.room.checkInAndOut?a("li",[t._v("\n          | checkIn 時間：最早 "+t._s(t.room.checkInAndOut.checkInEarly)+"\n          、最晚 "+t._s(t.room.checkInAndOut.checkInLate)+"\n        ")]):t._e()])])]),t._v(" "),a("div",{staticClass:"toolbar"},[a("form",{staticClass:"container toolbar_form",attrs:{action:""}},[a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckIn","disabled-dates":t.disabledStart,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0,highlighted:t.highlighted},model:{value:t.checkIn,callback:function(e){t.checkIn=e},expression:"checkIn"}}),t._v(" "),t._m(0)],1),t._v(" "),a("div",{staticClass:"calendar"},[a("datepicker",{attrs:{placeholder:"CheckOut","disabled-dates":t.disabledEnd,format:"yyyy/MM/dd","calendar-class":"calendar_calendar","wrapper-class":"calendar_wrap","input-class":"calendar_input",required:!0,highlighted:t.highlighted},model:{value:t.checkOut,callback:function(e){t.checkOut=e},expression:"checkOut"}}),t._v(" "),t._m(1)],1),t._v(" "),a("Counter",{attrs:{"counter-name":"Adults",number:t.adults},on:{number:t.countAdults}}),t._v(" "),a("Counter",{attrs:{"counter-name":"Kids",number:t.kids},on:{number:t.countKids}}),t._v(" "),a("a",{staticClass:"btn btn-m btn-dark rounded",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.bookRoom(t.room.id,t.room)}}},[t._v("\n        Booking\n      ")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"calendar_icon"},[e("i",{staticClass:"far fa-calendar-alt"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"calendar_icon"},[e("i",{staticClass:"far fa-calendar-alt"})])}]};var tt=a("VU/8")(J,Q,!1,function(t){a("UNG7")},"data-v-742bf455",null).exports;F()().format();var et={namespaced:!0,state:{rooms:[],room:[],roomItemBooked:[],imageActive:"",roomsDetil:[],roomsBooked:[]},actions:{getRooms:function(t,e){t.commit("LOADING",!0,{root:!0}),c.a.get("https://challenge.thef2e.com/api/thef2e2019/stage6/rooms",{headers:{Authorization:"Bearer uERM7X0iUKzkosCVJ0XEHaGvqOW0ZPXtzHNPLaEGNu2Zqpv5l3bZcdxu8Y4g",accept:"application/json"}}).then(function(a){"home"===e.form?(t.commit("ROOMS",a.data.items),t.commit("LOADING",!1,{root:!0}),t.dispatch("messageModules/updateMessage",{message:"資料載入成功",status:"success"},{root:!0})):c.a.all(a.data.items.map(function(t){return c.a.get("https://challenge.thef2e.com/api/thef2e2019/stage6/room/"+t.id,{headers:{Authorization:"Bearer uERM7X0iUKzkosCVJ0XEHaGvqOW0ZPXtzHNPLaEGNu2Zqpv5l3bZcdxu8Y4g",accept:"application/json"}})})).then(c.a.spread(function(){for(var a=arguments.length,s=Array(a),n=0;n<a;n++)s[n]=arguments[n];t.commit("ROOMSDETIL",s.map(function(t){return t.data.room[0]}));var o=[];if(s.forEach(function(t){o.push({maxNum:t.data.room[0].descriptionShort.GuestMax,roomId:t.data.room[0].id,booked:t.data.booking.map(function(t){return t.date})})}),t.commit("ROOMSBOOKED",o),t.commit("LOADING",!1,{root:!0}),t.dispatch("messageModules/updateMessage",{message:"資料載入成功",status:"success"},{root:!0}),e.search){var i=e.search;i.roomsBooked=t.state.roomsBooked,t.dispatch("searchModules/updateUnavailableRoom",i,{root:!0})}}))}).catch(function(){t.commit("LOADING",!1,{root:!0}),t.dispatch("messageModules/updateMessage",{message:"糟糕~ 出錯了!",status:"danger"},{root:!0})})},getRoomItem:function(t,e){var a="https://challenge.thef2e.com/api/thef2e2019/stage6/room/"+e;t.commit("LOADING",!0,{root:!0}),c.a.get(a,{headers:{Authorization:"Bearer uERM7X0iUKzkosCVJ0XEHaGvqOW0ZPXtzHNPLaEGNu2Zqpv5l3bZcdxu8Y4g",accept:"application/json"}}).then(function(e){t.commit("ROOM",e.data.room[0]),t.commit("IMAGEACTIVE",e.data.room[0].imageUrl[0]),t.commit("ROOMITEMBOOKED",e.data.booking),t.commit("calendarModules/HIGHLIGHTED",t.state.roomItemBooked,{root:!0}),t.commit("LOADING",!1,{root:!0}),t.dispatch("messageModules/updateMessage",{message:"資料載入成功",status:"success"},{root:!0})}).catch(function(){t.commit("LOADING",!1,{root:!0}),t.dispatch("messageModules/updateMessage",{message:"糟糕~ 出錯了!",status:"danger"},{root:!0})})}},mutations:{ROOMS:function(t,e){t.rooms=e},ROOM:function(t,e){t.room=e},ROOMITEMBOOKED:function(t,e){t.roomItemBooked=e.map(function(t){return new Date(F()(t.date))})},IMAGEACTIVE:function(t,e){t.imageActive=e},ROOMSDETIL:function(t,e){t.roomsDetil=e},ROOMSBOOKED:function(t,e){t.roomsBooked=e}},getters:{rooms:function(t){return t.rooms},room:function(t){return t.room},roomItemBooked:function(t){return t.roomItemBooked},imageActive:function(t){return t.imageActive},roomsDetil:function(t){return t.roomsDetil},roomsBooked:function(t){return t.roomsBooked}}},at={namespaced:!0,state:{alert:{isShow:!1,title:"",content:"",to:"",status:""}},actions:{openAlert:function(t,e){t.commit("ALERT",e),L()("body").css("overflow","hidden")},closeAlert:function(t,e){e&&dt.push(e);t.commit("ALERT",{isShow:!1,title:"",content:"",to:"",status:""}),L()("body").css("overflow","auto")}},mutations:{ALERT:function(t,e){t.alert=e}},getters:{alert:function(t){return t.alert}}},st={namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var a=e.message,s=e.status,n=Math.floor(new Date/1e3);t.commit("PUSH_MESSAGE",{message:a,status:s,timestamp:n}),t.dispatch("removeMessageWithTiming",n)},removeMessage:function(t,e){t.commit("REMOVE_MESSAGE",e)},removeMessageWithTiming:function(t,e){setTimeout(function(){t.state.messages.forEach(function(a,s){a.timestamp===e&&t.commit("REMOVE_MESSAGE",s)})},2e3)}},mutations:{PUSH_MESSAGE:function(t,e){t.messages.push(e)},REMOVE_MESSAGE:function(t,e){t.messages.splice(e,1)}},getters:{messages:function(t){return t.messages}}},nt=a("Gu7T"),ot=a.n(nt);F()().format();var it={namespaced:!0,state:{searchInfo:{isShow:!1,checkIn:"",checkOut:"",sumNum:""},unavailableRoom:[],selectDateArray:[]},actions:{updateSelectDateArray:function(t,e){for(var a=[],s=e.checkIn.getTime(),n=e.checkOut.getTime(),o=s;o<=n;o+=864e5){var i=F()(o).startOf("day").format("YYYY-MM-DD");a.push(i)}t.commit("SELECTDATEARRAY",a)},updateUnavailableRoom:function(t,e){t.dispatch("updateSelectDateArray",{checkIn:e.checkIn,checkOut:e.checkOut});for(var a=[].concat(ot()(t.state.selectDateArray)),s=[],n=0;n<e.roomsBooked.length;n+=1)for(var o=0;o<e.roomsBooked[n].booked.length;o+=1)if(a.indexOf(e.roomsBooked[n].booked[o])>-1){s.push(e.roomsBooked[n].roomId);break}var i=e.roomsBooked.filter(function(t){return s.indexOf(t.roomId)>-1||t.maxNum<e.sumNum}).map(function(t){return t.roomId});t.commit("UNAVAILABLEROOM",i),t.commit("SEARCHINFO",{isShow:!0,checkIn:F()(e.checkIn).format("YYYY/MM/DD"),checkOut:F()(e.checkOut).format("YYYY/MM/DD"),sumNum:e.sumNum})},resetSearch:function(t){t.commit("SEARCHINFO",{isShow:!1,checkIn:"",checkOut:"",sumNum:""}),t.commit("SELECTDATEARRAY",[]),t.commit("UNAVAILABLEROOM",[])}},mutations:{SELECTDATEARRAY:function(t,e){t.selectDateArray=e},UNAVAILABLEROOM:function(t,e){t.unavailableRoom=e},SEARCHINFO:function(t,e){t.searchInfo=e}},getters:{selectDateArray:function(t){return t.selectDateArray},unavailableRoom:function(t){return t.unavailableRoom},searchInfo:function(t){return t.searchInfo}}};F()().format();var rt={namespaced:!0,state:{disabledStart:{to:new Date(F()().endOf("day")),from:new Date(F()().endOf("day").add(3,"month"))},disabledEnd:{to:new Date(F()().endOf("day")),from:new Date(F()().endOf("day").add(3,"month"))},highlighted:{dates:[],includeDisabled:!0}},actions:{updateDisabledEnd:function(t,e){var a="";switch(e){case void 0:a=new Date(F()().endOf("day"));break;default:a=new Date(F()(e).startOf("day"))}t.commit("DISABLEDEND",{to:a,from:new Date(F()().endOf("day").add(3,"month"))})},resetCalendar:function(t){t.commit("DISABLEDEND",{to:new Date(F()().endOf("day")),from:new Date(F()().endOf("day").add(3,"month"))}),t.commit("HIGHLIGHTED",[])}},mutations:{DISABLEDEND:function(t,e){t.disabledEnd=e},HIGHLIGHTED:function(t,e){t.highlighted={dates:e,includeDisabled:!0}}},getters:{disabledStart:function(t){return t.disabledStart},disabledEnd:function(t){return t.disabledEnd},highlighted:function(t){return t.highlighted}}};o.default.use(i.a);var ct=new i.a.Store({strict:!0,state:{isLoading:!1},actions:{updateLoading:function(t,e){t.commit("LOADING",e)}},mutations:{LOADING:function(t,e){t.isLoading=e}},getters:{isLoading:function(t){return t.isLoading}},modules:{roomsModules:et,alertModules:at,messageModules:st,searchModules:it,calendarModules:rt}});o.default.use(C.a);var lt=new C.a({linkExactActiveClass:"active",routes:[{path:"*",redirect:"/"},{path:"/",component:S,children:[{path:"/",name:"Home",component:G},{path:"/about",name:"About",component:P},{path:"/contact",name:"Contact",component:V},{path:"/rooms",name:"Rooms",component:z},{path:"/rooms/:roomId",name:"Room",component:tt},{path:"/checkorder",name:"CheckOrder",component:X,beforeEnter:function(t,e,a){t.query.roomId?a():a("/")}}]}],scrollBehavior:function(){return{x:0,y:0}}});lt.beforeEach(function(t,e,a){ct.dispatch("calendarModules/resetCalendar"),ct.dispatch("searchModules/resetSearch"),a()});var dt=lt;o.default.config.productionTip=!1,o.default.use(d.a,c.a),c.a.defaults.withcredentials=!0,o.default.use(i.a),Object(u.d)("zh_TW",h.a),Object(u.c)("email",m.a),Object(u.c)("required",n()({},m.b,{message:"{_field_} 欄位不能空白"})),Object(u.c)("phone",{validate:function(t){return/^(09)[0-9]{8}$/.test(t)},message:"請填寫正確電話號碼"}),o.default.component("ValidationProvider",u.b),o.default.component("ValidationObserver",u.a),o.default.use(_.a),o.default.component("Loading",g.a),o.default.filter("currency",function(t){return"$ "+Number(t).toString().replace(/(\d{1,3})(?=(\d{3})+$)/g,"$1,")}),new o.default({el:"#app",router:dt,store:ct,components:{App:b},template:"<App/>"})},"S/Yb":function(t,e){},SYh3:function(t,e){},SjS3:function(t,e){t.exports={code:"zh_TW",messages:{alpha:"{_field_} 須以英文組成",alpha_dash:"{_field_} 須以英數、斜線及底線組成",alpha_num:"{_field_} 須以英數組成",alpha_spaces:"{_field_} 須以英文及空格組成",between:"{_field_} 須介於 {min} 至 {max}之間",confirmed:" {_field_} 不一致",digits:"{_field_} 須為 {length} 位數字",dimensions:"{_field_} 圖片尺寸不正確。須為 {width} x {height} 像素",email:"{_field_} 須為有效的電子信箱",excluded:"{_field_} 的選項無效",ext:"{_field_} 須為有效的檔案",image:"{_field_} 須為圖片",oneOf:"{_field_} 的選項無效",integer:"{_field_} 須為整數",length:"{_field_} 的長度須為 {length}",max:"{_field_} 不能大於 {length} 個字元",max_value:"{_field_} 不得大於 {max}",mimes:"{_field_} 須為有效的檔案類型",min:"{_field_} 不能小於 {length} 個字元",min_value:"{_field_} 不得小於 {min}",numeric:"{_field_} 須為數字",regex:"{_field_} 的格式錯誤",required:"{_field_} 為必填",required_if:"{_field_} 為必填",size:"{_field_} 的檔案須小於 {size}KB"}}},UNG7:function(t,e){},V9Ch:function(t,e){},bVL6:function(t,e){},hDYz:function(t,e){},oOvP:function(t,e){},qiYg:function(t,e,a){t.exports=a.p+"static/img/hotel_1.d5217f4.jpg"},rCCs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3b2c075ed3d7e13249bb.js.map